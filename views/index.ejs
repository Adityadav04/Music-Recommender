<!-- views/index.ejs - Landing page -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spotify Music Recommender</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/style.css" rel="stylesheet">
</head>
<body>
  <div class="container text-center mt-5">
    <h1 class="mb-4">Spotify AI Music Recommender</h1>
    <p class="lead mb-5">Discover new music with AI-powered recommendations based on your listening patterns</p>
    
    <% if (!user) { %>
      <a href="/login" class="btn btn-success btn-lg">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-spotify me-2" viewBox="0 0 16 16">
          <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.669 11.538a.498.498 0 0 1-.686.165c-1.879-1.147-4.243-1.407-7.028-.77a.499.499 0 0 1-.222-.973c3.048-.696 5.662-.397 7.77.892a.5.5 0 0 1 .166.686z"/>
          <path d="M10.121 9.231a.5.5 0 0 1-.686.169c-1.62-.815-3.657-1.01-6.057-.341a.5.5 0 0 1-.257-.966c2.629-.724 4.888-.497 6.827.415a.5.5 0 0 1 .173.686z"/>
          <path d="M9.669 6.893a.5.5 0 0 1-.686.172c-1.376-.695-3.466-.924-5.085-.527a.5.5 0 1 1-.252-.967c1.858-.44 4.156-.172 5.851.625a.5.5 0 0 1 .172.686z"/>
        </svg>
        Login with Spotify
      </a>
    <% } else { %>
      <p>Welcome back, <%= user.display_name %>!</p>
      <a href="/dashboard" class="btn btn-primary btn-lg">Go to Dashboard</a>
      <a href="/logout" class="btn btn-outline-secondary ms-2">Logout</a>
    <% } %>
    
    <div class="mt-5">
      <h2>How It Works</h2>
      <div class="row mt-4">
        <div class="col-md-4">
          <div class="card mb-4 shadow-sm">
            <div class="card-body">
              <h5 class="card-title">Step 1</h5>
              <p class="card-text">Connect your Spotify account to give us access to your listening history</p>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card mb-4 shadow-sm">
            <div class="card-body">
              <h5 class="card-title">Step 2</h5>
              <p class="card-text">Our AI analyzes your music taste using machine learning algorithms</p>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card mb-4 shadow-sm">
            <div class="card-body">
              <h5 class="card-title">Step 3</h5>
              <p class="card-text">Get personalized recommendations based on your unique preferences</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
